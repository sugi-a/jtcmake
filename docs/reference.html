<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API Reference &mdash; JTCMake  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="JTCMake Tutorial" href="howto.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> JTCMake
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="howto.html">JTCMake Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#jtcmake.StaticGroupBase"><code class="docutils literal notranslate"><span class="pre">StaticGroupBase</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#jtcmake.StaticGroupBase.__init__"><code class="docutils literal notranslate"><span class="pre">StaticGroupBase.__init__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#jtcmake.StaticGroupBase.make"><code class="docutils literal notranslate"><span class="pre">StaticGroupBase.make()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#jtcmake.StaticGroupBase.select_groups"><code class="docutils literal notranslate"><span class="pre">StaticGroupBase.select_groups()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jtcmake.GroupsGroup"><code class="docutils literal notranslate"><span class="pre">GroupsGroup</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#jtcmake.GroupsGroup.__init__"><code class="docutils literal notranslate"><span class="pre">GroupsGroup.__init__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#jtcmake.GroupsGroup.make"><code class="docutils literal notranslate"><span class="pre">GroupsGroup.make()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#jtcmake.GroupsGroup.select_groups"><code class="docutils literal notranslate"><span class="pre">GroupsGroup.select_groups()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jtcmake.RulesGroup"><code class="docutils literal notranslate"><span class="pre">RulesGroup</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#jtcmake.RulesGroup.__init__"><code class="docutils literal notranslate"><span class="pre">RulesGroup.__init__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#jtcmake.RulesGroup.make"><code class="docutils literal notranslate"><span class="pre">RulesGroup.make()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#jtcmake.RulesGroup.select_groups"><code class="docutils literal notranslate"><span class="pre">RulesGroup.select_groups()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#jtcmake.UntypedGroup"><code class="docutils literal notranslate"><span class="pre">UntypedGroup</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#jtcmake.UntypedGroup.__init__"><code class="docutils literal notranslate"><span class="pre">UntypedGroup.__init__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#jtcmake.UntypedGroup.make"><code class="docutils literal notranslate"><span class="pre">UntypedGroup.make()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#jtcmake.UntypedGroup.select_groups"><code class="docutils literal notranslate"><span class="pre">UntypedGroup.select_groups()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">JTCMake</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">API Reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/reference.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading">ÔÉÅ</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="jtcmake.StaticGroupBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">jtcmake.</span></span><span class="sig-name descname"><span class="pre">StaticGroupBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loglevel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'debug'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'info'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'warning'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'error'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_default_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jtcmake.StaticGroupBase" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Base class for static groups.</p>
<p>A static group should be defined by subclassing StaticGroupBase.
It must have type annotations to represent its child groups and rules.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CustomStaticGroup</span><span class="p">(</span><span class="n">StaticGroupBase</span><span class="p">):</span>
    <span class="n">child_rule1</span><span class="p">:</span> <span class="n">Rule</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">child_rule2</span><span class="p">:</span> <span class="n">Rule</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]]</span>
    <span class="n">child_group1</span><span class="p">:</span> <span class="n">AnotherStaticGroup</span>
    <span class="n">child_group2</span><span class="p">:</span> <span class="n">RulesGroup</span>

    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Generic type parameters like ``[str]`` in this example is ignored</span>
<span class="sd">    at runtime. They are just hints for the type checker and IDE.</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
<p>The child nodes are automatically instanciated when the parent is
instanciated. So you can read them without assigning values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">CustomStaticGroup</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">child_rule1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">child_group1</span><span class="p">)</span>
</pre></div>
</div>
<p>Remember that the child rules are automatically instanciated but not
<em>initialized</em> . you have to manually initialize them with
<code class="docutils literal notranslate"><span class="pre">Rule.init</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">.</span><span class="n">child_rule1</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="s2">&quot;child_file1.txt&quot;</span><span class="p">,</span> <span class="n">copy</span><span class="p">)(</span><span class="n">souce_file</span><span class="p">,</span> <span class="n">SELF</span><span class="p">)</span>
</pre></div>
</div>
<p>As a design pattern, it is recommended to have an initializer method
that initializes the child rules and calls the initializer of the child
groups to recursively initialize all the rules in the sub-tree.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CustomStaticGroup</span><span class="p">(</span><span class="n">StaticGroupBase</span><span class="p">):</span>
    <span class="n">rule</span><span class="p">:</span> <span class="n">Rule</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">group</span><span class="p">:</span> <span class="n">AnotherStaticGroup</span>

    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">some_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CustomStaticGroup</span><span class="p">:</span>
        <span class="c1"># Initializer for this class. The method name &quot;init&quot; is not</span>
        <span class="c1"># reserved so you can choose your own one.</span>

        <span class="c1"># Initialize the direct child rules</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rule</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="o">...</span><span class="p">)(</span><span class="o">...</span><span class="p">)</span>

        <span class="c1"># Initialize the child group (assuming ``AnotherStaticGroup``</span>
        <span class="c1"># has ``init`` to initialize itself)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">CustomStaticGroup</span><span class="p">()</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">some_file</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">make</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When you override the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method, you have to call
<code class="docutils literal notranslate"><span class="pre">super().__init__</span></code> in it with appropriate arguments.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="jtcmake.StaticGroupBase.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loglevel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'debug'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'info'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'warning'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'error'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_default_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jtcmake.StaticGroupBase.__init__" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jtcmake.StaticGroupBase.make">
<span class="sig-name descname"><span class="pre">make</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dry_run</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_going</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">njobs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MakeSummary</span></span></span><a class="headerlink" href="#jtcmake.StaticGroupBase.make" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Make rules in this group and their dependencies</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dry_run</strong> (<em>bool</em>) ‚Äì instead of actually excuting the methods,
print expected execution logs.</p></li>
<li><p><strong>keep_going</strong> (<em>bool</em>) ‚Äì If False (default), stop everything when a rule fails.
If True, when a rule fails, keep executing other rules
except the ones depend on the failed rule.</p></li>
<li><p><strong>njobs</strong> (<em>int</em>) ‚Äì Maximum number of rules that can be made concurrently.
Defaults to 1 (single process, single thread).</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See the description of jtcmake.make for more detail of njobs</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jtcmake.StaticGroupBase.select_groups">
<span class="sig-name descname"><span class="pre">select_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">IGroup</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#jtcmake.StaticGroupBase.select_groups" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Obtain child groups or rules of this group.</p>
<p>Signatures:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><cite>select(group_tree_pattern: str)</cite></p></li>
<li><p><cite>select(group_tree_pattern: Sequence[str], group:bool=False)</cite></p></li>
</ol>
</div></blockquote>
<dl>
<dt>Args for Signature 1:</dt><dd><dl>
<dt>group_tree_pattern (str):</dt><dd><p>Pattern of the relative name of child nodes of this group.
Pattern consists of names concatenated with the delimiter ‚Äò/‚Äô.
Double star ‚Äò**‚Äô can appear as a name indicating zero or
more repetition of arbitrary names.</p>
<p>Single star can appear as a part of a name indicating zero
or more repetition of arbitrary character.</p>
<p>If <cite>group_tree_pattern[-1] == ‚Äò/‚Äô</cite>, it matches groups only.
Otherwise, it matches rules only.</p>
<p>For example, calling g.select(pattern) with a pattern</p>
<ul class="simple">
<li><p><cite>‚Äúa/b‚Äù  matches a rule `g.a.b</cite></p></li>
<li><p>‚Äúa/b/‚Äù matches a group <cite>g.a.b</cite></p></li>
<li><p>‚Äúa*‚Äù   matches rules <cite>g.a</cite>, <cite>g.a1</cite>, <cite>g.a2</cite>, etc</p></li>
<li><p>‚Äúa*/‚Äù  matches groups <cite>g.a</cite>, <cite>g.a1</cite>, <cite>g.a2</cite>, etc</p></li>
<li><p><cite>‚Äú**‚Äù</cite>   matches all the offspring rules of <cite>g</cite></p></li>
<li><p><cite>‚Äú**/‚Äù</cite>  matches all the offspring groups of <cite>g</cite></p></li>
<li><p><cite>‚Äúa/**‚Äù</cite> matches all the offspring rules of the group <cite>g.a</cite></p></li>
<li><p><cite>‚Äú**/b‚Äù</cite> matches all the offspring rules of <cite>g</cite> of name ‚Äúb‚Äù</p></li>
</ul>
</dd>
</dl>
<p>group: ignored</p>
</dd>
<dt>Args for Signature-2:</dt><dd><dl>
<dt>group_tree_pattern (list[str] | tuple[str]):</dt><dd><p>Pattern representation using a sequence of names.</p>
<p>Following two are equivalent:</p>
<ul class="simple">
<li><p><cite>g.select([‚Äúa‚Äù, ‚Äú*‚Äù, ‚Äúc‚Äù, ‚Äú**‚Äù])</cite></p></li>
<li><p><cite>g.select(‚Äúa/*/c/**‚Äù)</cite></p></li>
</ul>
<p>Following two are equivalent:</p>
<ul class="simple">
<li><p><cite>g.select([‚Äúa‚Äù, ‚Äú*‚Äù, ‚Äúc‚Äù, ‚Äú**‚Äù], True)</cite></p></li>
<li><p><cite>g.select(‚Äúa/*/c/**/‚Äù)</cite></p></li>
</ul>
</dd>
<dt>group (bool):</dt><dd><p>if False (default), select rules only.
if True, select groups only.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>rule nodes or group nodes.</p>
<ul class="simple">
<li><p>called with Signature-1 and pattern[-1] != ‚Äò/‚Äô or</p></li>
<li><p>called with Signature-2 and group is False</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list[RuleNodeLike]|list[Group]</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cases where Signature-2 is absolutely necessary is when you need
to select a node whose name contains ‚Äú/‚Äù.
For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">create_group</span><span class="p">(</span><span class="s1">&#39;group&#39;</span><span class="p">)</span>

<span class="c1"># this rule&#39;s name is &quot;dir/a.txt&quot;</span>
<span class="n">rule</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;dir/a.txt&#39;</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">g</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s1">&#39;dir/a.txt&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="p">[</span><span class="n">rule</span><span class="p">]</span>  <span class="c1"># OK</span>
<span class="n">g</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;dir/a.txt&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="p">[]</span>  <span class="c1"># trying to match g[&#39;dir&#39;][&#39;a.txt&#39;]</span>
</pre></div>
</div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="jtcmake.GroupsGroup">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">jtcmake.</span></span><span class="sig-name descname"><span class="pre">GroupsGroup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loglevel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'debug'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'info'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'warning'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'error'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_default_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jtcmake.GroupsGroup" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="jtcmake.GroupsGroup.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loglevel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'debug'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'info'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'warning'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'error'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_default_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jtcmake.GroupsGroup.__init__" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jtcmake.GroupsGroup.make">
<span class="sig-name descname"><span class="pre">make</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dry_run</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_going</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">njobs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MakeSummary</span></span></span><a class="headerlink" href="#jtcmake.GroupsGroup.make" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Make rules in this group and their dependencies</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dry_run</strong> (<em>bool</em>) ‚Äì instead of actually excuting the methods,
print expected execution logs.</p></li>
<li><p><strong>keep_going</strong> (<em>bool</em>) ‚Äì If False (default), stop everything when a rule fails.
If True, when a rule fails, keep executing other rules
except the ones depend on the failed rule.</p></li>
<li><p><strong>njobs</strong> (<em>int</em>) ‚Äì Maximum number of rules that can be made concurrently.
Defaults to 1 (single process, single thread).</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See the description of jtcmake.make for more detail of njobs</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jtcmake.GroupsGroup.select_groups">
<span class="sig-name descname"><span class="pre">select_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">IGroup</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#jtcmake.GroupsGroup.select_groups" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Obtain child groups or rules of this group.</p>
<p>Signatures:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><cite>select(group_tree_pattern: str)</cite></p></li>
<li><p><cite>select(group_tree_pattern: Sequence[str], group:bool=False)</cite></p></li>
</ol>
</div></blockquote>
<dl>
<dt>Args for Signature 1:</dt><dd><dl>
<dt>group_tree_pattern (str):</dt><dd><p>Pattern of the relative name of child nodes of this group.
Pattern consists of names concatenated with the delimiter ‚Äò/‚Äô.
Double star ‚Äò**‚Äô can appear as a name indicating zero or
more repetition of arbitrary names.</p>
<p>Single star can appear as a part of a name indicating zero
or more repetition of arbitrary character.</p>
<p>If <cite>group_tree_pattern[-1] == ‚Äò/‚Äô</cite>, it matches groups only.
Otherwise, it matches rules only.</p>
<p>For example, calling g.select(pattern) with a pattern</p>
<ul class="simple">
<li><p><cite>‚Äúa/b‚Äù  matches a rule `g.a.b</cite></p></li>
<li><p>‚Äúa/b/‚Äù matches a group <cite>g.a.b</cite></p></li>
<li><p>‚Äúa*‚Äù   matches rules <cite>g.a</cite>, <cite>g.a1</cite>, <cite>g.a2</cite>, etc</p></li>
<li><p>‚Äúa*/‚Äù  matches groups <cite>g.a</cite>, <cite>g.a1</cite>, <cite>g.a2</cite>, etc</p></li>
<li><p><cite>‚Äú**‚Äù</cite>   matches all the offspring rules of <cite>g</cite></p></li>
<li><p><cite>‚Äú**/‚Äù</cite>  matches all the offspring groups of <cite>g</cite></p></li>
<li><p><cite>‚Äúa/**‚Äù</cite> matches all the offspring rules of the group <cite>g.a</cite></p></li>
<li><p><cite>‚Äú**/b‚Äù</cite> matches all the offspring rules of <cite>g</cite> of name ‚Äúb‚Äù</p></li>
</ul>
</dd>
</dl>
<p>group: ignored</p>
</dd>
<dt>Args for Signature-2:</dt><dd><dl>
<dt>group_tree_pattern (list[str] | tuple[str]):</dt><dd><p>Pattern representation using a sequence of names.</p>
<p>Following two are equivalent:</p>
<ul class="simple">
<li><p><cite>g.select([‚Äúa‚Äù, ‚Äú*‚Äù, ‚Äúc‚Äù, ‚Äú**‚Äù])</cite></p></li>
<li><p><cite>g.select(‚Äúa/*/c/**‚Äù)</cite></p></li>
</ul>
<p>Following two are equivalent:</p>
<ul class="simple">
<li><p><cite>g.select([‚Äúa‚Äù, ‚Äú*‚Äù, ‚Äúc‚Äù, ‚Äú**‚Äù], True)</cite></p></li>
<li><p><cite>g.select(‚Äúa/*/c/**/‚Äù)</cite></p></li>
</ul>
</dd>
<dt>group (bool):</dt><dd><p>if False (default), select rules only.
if True, select groups only.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>rule nodes or group nodes.</p>
<ul class="simple">
<li><p>called with Signature-1 and pattern[-1] != ‚Äò/‚Äô or</p></li>
<li><p>called with Signature-2 and group is False</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list[RuleNodeLike]|list[Group]</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cases where Signature-2 is absolutely necessary is when you need
to select a node whose name contains ‚Äú/‚Äù.
For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">create_group</span><span class="p">(</span><span class="s1">&#39;group&#39;</span><span class="p">)</span>

<span class="c1"># this rule&#39;s name is &quot;dir/a.txt&quot;</span>
<span class="n">rule</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;dir/a.txt&#39;</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">g</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s1">&#39;dir/a.txt&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="p">[</span><span class="n">rule</span><span class="p">]</span>  <span class="c1"># OK</span>
<span class="n">g</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;dir/a.txt&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="p">[]</span>  <span class="c1"># trying to match g[&#39;dir&#39;][&#39;a.txt&#39;]</span>
</pre></div>
</div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="jtcmake.RulesGroup">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">jtcmake.</span></span><span class="sig-name descname"><span class="pre">RulesGroup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loglevel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'debug'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'info'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'warning'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'error'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_default_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jtcmake.RulesGroup" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="jtcmake.RulesGroup.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loglevel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'debug'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'info'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'warning'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'error'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_default_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jtcmake.RulesGroup.__init__" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jtcmake.RulesGroup.make">
<span class="sig-name descname"><span class="pre">make</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dry_run</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_going</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">njobs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MakeSummary</span></span></span><a class="headerlink" href="#jtcmake.RulesGroup.make" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Make rules in this group and their dependencies</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dry_run</strong> (<em>bool</em>) ‚Äì instead of actually excuting the methods,
print expected execution logs.</p></li>
<li><p><strong>keep_going</strong> (<em>bool</em>) ‚Äì If False (default), stop everything when a rule fails.
If True, when a rule fails, keep executing other rules
except the ones depend on the failed rule.</p></li>
<li><p><strong>njobs</strong> (<em>int</em>) ‚Äì Maximum number of rules that can be made concurrently.
Defaults to 1 (single process, single thread).</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See the description of jtcmake.make for more detail of njobs</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jtcmake.RulesGroup.select_groups">
<span class="sig-name descname"><span class="pre">select_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">IGroup</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#jtcmake.RulesGroup.select_groups" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Obtain child groups or rules of this group.</p>
<p>Signatures:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><cite>select(group_tree_pattern: str)</cite></p></li>
<li><p><cite>select(group_tree_pattern: Sequence[str], group:bool=False)</cite></p></li>
</ol>
</div></blockquote>
<dl>
<dt>Args for Signature 1:</dt><dd><dl>
<dt>group_tree_pattern (str):</dt><dd><p>Pattern of the relative name of child nodes of this group.
Pattern consists of names concatenated with the delimiter ‚Äò/‚Äô.
Double star ‚Äò**‚Äô can appear as a name indicating zero or
more repetition of arbitrary names.</p>
<p>Single star can appear as a part of a name indicating zero
or more repetition of arbitrary character.</p>
<p>If <cite>group_tree_pattern[-1] == ‚Äò/‚Äô</cite>, it matches groups only.
Otherwise, it matches rules only.</p>
<p>For example, calling g.select(pattern) with a pattern</p>
<ul class="simple">
<li><p><cite>‚Äúa/b‚Äù  matches a rule `g.a.b</cite></p></li>
<li><p>‚Äúa/b/‚Äù matches a group <cite>g.a.b</cite></p></li>
<li><p>‚Äúa*‚Äù   matches rules <cite>g.a</cite>, <cite>g.a1</cite>, <cite>g.a2</cite>, etc</p></li>
<li><p>‚Äúa*/‚Äù  matches groups <cite>g.a</cite>, <cite>g.a1</cite>, <cite>g.a2</cite>, etc</p></li>
<li><p><cite>‚Äú**‚Äù</cite>   matches all the offspring rules of <cite>g</cite></p></li>
<li><p><cite>‚Äú**/‚Äù</cite>  matches all the offspring groups of <cite>g</cite></p></li>
<li><p><cite>‚Äúa/**‚Äù</cite> matches all the offspring rules of the group <cite>g.a</cite></p></li>
<li><p><cite>‚Äú**/b‚Äù</cite> matches all the offspring rules of <cite>g</cite> of name ‚Äúb‚Äù</p></li>
</ul>
</dd>
</dl>
<p>group: ignored</p>
</dd>
<dt>Args for Signature-2:</dt><dd><dl>
<dt>group_tree_pattern (list[str] | tuple[str]):</dt><dd><p>Pattern representation using a sequence of names.</p>
<p>Following two are equivalent:</p>
<ul class="simple">
<li><p><cite>g.select([‚Äúa‚Äù, ‚Äú*‚Äù, ‚Äúc‚Äù, ‚Äú**‚Äù])</cite></p></li>
<li><p><cite>g.select(‚Äúa/*/c/**‚Äù)</cite></p></li>
</ul>
<p>Following two are equivalent:</p>
<ul class="simple">
<li><p><cite>g.select([‚Äúa‚Äù, ‚Äú*‚Äù, ‚Äúc‚Äù, ‚Äú**‚Äù], True)</cite></p></li>
<li><p><cite>g.select(‚Äúa/*/c/**/‚Äù)</cite></p></li>
</ul>
</dd>
<dt>group (bool):</dt><dd><p>if False (default), select rules only.
if True, select groups only.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>rule nodes or group nodes.</p>
<ul class="simple">
<li><p>called with Signature-1 and pattern[-1] != ‚Äò/‚Äô or</p></li>
<li><p>called with Signature-2 and group is False</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list[RuleNodeLike]|list[Group]</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cases where Signature-2 is absolutely necessary is when you need
to select a node whose name contains ‚Äú/‚Äù.
For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">create_group</span><span class="p">(</span><span class="s1">&#39;group&#39;</span><span class="p">)</span>

<span class="c1"># this rule&#39;s name is &quot;dir/a.txt&quot;</span>
<span class="n">rule</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;dir/a.txt&#39;</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">g</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s1">&#39;dir/a.txt&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="p">[</span><span class="n">rule</span><span class="p">]</span>  <span class="c1"># OK</span>
<span class="n">g</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;dir/a.txt&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="p">[]</span>  <span class="c1"># trying to match g[&#39;dir&#39;][&#39;a.txt&#39;]</span>
</pre></div>
</div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="jtcmake.UntypedGroup">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">jtcmake.</span></span><span class="sig-name descname"><span class="pre">UntypedGroup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loglevel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'debug'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'info'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'warning'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'error'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_default_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jtcmake.UntypedGroup" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="jtcmake.UntypedGroup.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loglevel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'debug'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'info'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'warning'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'error'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_default_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Logger</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WritableProtocol</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#jtcmake.UntypedGroup.__init__" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jtcmake.UntypedGroup.make">
<span class="sig-name descname"><span class="pre">make</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dry_run</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_going</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">njobs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">MakeSummary</span></span></span><a class="headerlink" href="#jtcmake.UntypedGroup.make" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Make rules in this group and their dependencies</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dry_run</strong> (<em>bool</em>) ‚Äì instead of actually excuting the methods,
print expected execution logs.</p></li>
<li><p><strong>keep_going</strong> (<em>bool</em>) ‚Äì If False (default), stop everything when a rule fails.
If True, when a rule fails, keep executing other rules
except the ones depend on the failed rule.</p></li>
<li><p><strong>njobs</strong> (<em>int</em>) ‚Äì Maximum number of rules that can be made concurrently.
Defaults to 1 (single process, single thread).</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See the description of jtcmake.make for more detail of njobs</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="jtcmake.UntypedGroup.select_groups">
<span class="sig-name descname"><span class="pre">select_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">IGroup</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#jtcmake.UntypedGroup.select_groups" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Obtain child groups or rules of this group.</p>
<p>Signatures:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><cite>select(group_tree_pattern: str)</cite></p></li>
<li><p><cite>select(group_tree_pattern: Sequence[str], group:bool=False)</cite></p></li>
</ol>
</div></blockquote>
<dl>
<dt>Args for Signature 1:</dt><dd><dl>
<dt>group_tree_pattern (str):</dt><dd><p>Pattern of the relative name of child nodes of this group.
Pattern consists of names concatenated with the delimiter ‚Äò/‚Äô.
Double star ‚Äò**‚Äô can appear as a name indicating zero or
more repetition of arbitrary names.</p>
<p>Single star can appear as a part of a name indicating zero
or more repetition of arbitrary character.</p>
<p>If <cite>group_tree_pattern[-1] == ‚Äò/‚Äô</cite>, it matches groups only.
Otherwise, it matches rules only.</p>
<p>For example, calling g.select(pattern) with a pattern</p>
<ul class="simple">
<li><p><cite>‚Äúa/b‚Äù  matches a rule `g.a.b</cite></p></li>
<li><p>‚Äúa/b/‚Äù matches a group <cite>g.a.b</cite></p></li>
<li><p>‚Äúa*‚Äù   matches rules <cite>g.a</cite>, <cite>g.a1</cite>, <cite>g.a2</cite>, etc</p></li>
<li><p>‚Äúa*/‚Äù  matches groups <cite>g.a</cite>, <cite>g.a1</cite>, <cite>g.a2</cite>, etc</p></li>
<li><p><cite>‚Äú**‚Äù</cite>   matches all the offspring rules of <cite>g</cite></p></li>
<li><p><cite>‚Äú**/‚Äù</cite>  matches all the offspring groups of <cite>g</cite></p></li>
<li><p><cite>‚Äúa/**‚Äù</cite> matches all the offspring rules of the group <cite>g.a</cite></p></li>
<li><p><cite>‚Äú**/b‚Äù</cite> matches all the offspring rules of <cite>g</cite> of name ‚Äúb‚Äù</p></li>
</ul>
</dd>
</dl>
<p>group: ignored</p>
</dd>
<dt>Args for Signature-2:</dt><dd><dl>
<dt>group_tree_pattern (list[str] | tuple[str]):</dt><dd><p>Pattern representation using a sequence of names.</p>
<p>Following two are equivalent:</p>
<ul class="simple">
<li><p><cite>g.select([‚Äúa‚Äù, ‚Äú*‚Äù, ‚Äúc‚Äù, ‚Äú**‚Äù])</cite></p></li>
<li><p><cite>g.select(‚Äúa/*/c/**‚Äù)</cite></p></li>
</ul>
<p>Following two are equivalent:</p>
<ul class="simple">
<li><p><cite>g.select([‚Äúa‚Äù, ‚Äú*‚Äù, ‚Äúc‚Äù, ‚Äú**‚Äù], True)</cite></p></li>
<li><p><cite>g.select(‚Äúa/*/c/**/‚Äù)</cite></p></li>
</ul>
</dd>
<dt>group (bool):</dt><dd><p>if False (default), select rules only.
if True, select groups only.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>rule nodes or group nodes.</p>
<ul class="simple">
<li><p>called with Signature-1 and pattern[-1] != ‚Äò/‚Äô or</p></li>
<li><p>called with Signature-2 and group is False</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list[RuleNodeLike]|list[Group]</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cases where Signature-2 is absolutely necessary is when you need
to select a node whose name contains ‚Äú/‚Äù.
For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">create_group</span><span class="p">(</span><span class="s1">&#39;group&#39;</span><span class="p">)</span>

<span class="c1"># this rule&#39;s name is &quot;dir/a.txt&quot;</span>
<span class="n">rule</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;dir/a.txt&#39;</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">g</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s1">&#39;dir/a.txt&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="p">[</span><span class="n">rule</span><span class="p">]</span>  <span class="c1"># OK</span>
<span class="n">g</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;dir/a.txt&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="p">[]</span>  <span class="c1"># trying to match g[&#39;dir&#39;][&#39;a.txt&#39;]</span>
</pre></div>
</div>
</div>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="howto.html" class="btn btn-neutral float-left" title="JTCMake Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Amane Sugiyama.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>